(window.webpackJsonpmtg_creatures=window.webpackJsonpmtg_creatures||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),i=a(6),o=a(7),s=a(9),m=a(8),u=a(10),d=a(30),p=a(20),h=a(54),g=a.n(h),f=a(29),b=a(18),y=a.n(b),E=a(55),v=a.n(E),O=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:v.a,alt:"Loading ...",style:{width:"200px",margin:" 40px auto",display:"block"}}))},w=a(27),N=a.n(w),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).card=a.props.card,a.state={flipped:!1},a.cardDetail=r.a.createElement("div",{className:"card-click mb-2",onClick:a.flipCard},r.a.createElement("img",{src:a.card.imageUrl?a.card.imageUrl:N.a,alt:a.card.name})),a.btnText="View Details",a.flipCard=function(){!0===a.state.flipped?(a.cardDetail=r.a.createElement("img",{src:a.card.imageUrl?a.card.imageUrl:N.a,alt:a.card.name}),a.btnText="View Details",a.setState({flipped:!1})):(a.cardDetail=r.a.createElement("ul",{className:"text-white pt-3 pr-2"},r.a.createElement("li",null,"Artist: ",r.a.createElement("span",{className:"font-weight-bold"},a.card.artist)),r.a.createElement("li",null,"Set Name: ",r.a.createElement("span",{className:"font-weight-bold"},a.card.setName)),r.a.createElement("li",null,"Type: ",r.a.createElement("span",{className:"font-weight-bold"},a.card.type)),r.a.createElement("li",null,"Original Type: ",r.a.createElement("span",{className:"font-weight-bold"},a.card.originalType)),r.a.createElement("li",null,"Power: ",r.a.createElement("span",{className:"font-weight-bold"},a.card.power)),r.a.createElement("li",null,"Toughness: ",r.a.createElement("span",{className:"font-weight-bold"},a.card.toughness)),r.a.createElement("li",null,"Rarity: ",r.a.createElement("span",{className:"font-weight-bold"},a.card.rarity))),a.btnText="View Card",a.setState({flipped:!0}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-auto mb-3"},r.a.createElement("div",{className:"card shadow-sm"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,this.card.name),r.a.createElement("div",{className:"card-click card-detail mb-2",onClick:this.flipCard},this.cardDetail),r.a.createElement("button",{onClick:this.flipCard,className:"btn btn-dark btn-block"},r.a.createElement("i",{className:"fas fa-chevron-right"})," ",this.btnText))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).loadData=function(){y.a.get("".concat("","https://api.magicthegathering.io/v1/cards?contains=originalType&").concat("types=creature","&").concat(a.state.pageSize,"&page=").concat(a.state.pageNum)).then(function(e){a.setState({card_list_new:e.data.cards})}).catch(function(e){return console.log("error",e)})},a.lazyLoad=function(){return void 0===a.state.card_list_new||0===a.state.card_list_new.length?!1===a.state.lazyLoading?void 0:r.a.createElement(O,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},a.state.card_list_new.map(function(e){return r.a.createElement(j,{key:e.id,card:e})})))},a.state={card_list_new:[],pageSize:"pageSize=10",pageNum:3,lazyLoading:!1},a.card_list_prev=[],a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&e.card_list_prev.length>0&&(console.log("Intersection Occurred and loading Data ..."),e.loadData(),e.setState({lazyLoading:!0}))})},{root:document.querySelector(".row"),rootMargin:"0px 0px 200px 0px"}),this.observer.observe(this.element)}},{key:"render",value:function(){var e=this;return r.a.createElement(x,null,function(t){return e.card_list_prev=t.card_list,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:function(t){return e.element=t},className:"row-marker container-fluid justify-content-center"},e.lazyLoad()))})}}]),t}(n.Component);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var k=r.a.createContext(),T=function(e,t){switch(t.type){case"SEARCH_CARDS":return _({},e,{card_list:t.payload,heading:"Creature Search Results: ".concat(t.currSearchType," - ").concat(t.payload.length," results")});case"SORT_CARDS":return _({},e,{card_list:t.payload,heading:"Creature Sort Results: ".concat(t.currSortType," - ").concat(t.payload.length," results")});case"LAZY_LOAD":return _({},e,{card_list:t.payload});default:return e}},D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={card_list:[],heading:"Creature Character Cards",pageSize:"pageSize=20",pageNum:"page=1",dispatch:function(e){return a.setState(function(t){return T(t,e)})}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("".concat("","https://api.magicthegathering.io/v1/cards?contains=originalType&").concat("types=creature","&").concat(this.state.pageSize,"&").concat(this.state.pageNum)).then(function(t){e.setState({card_list:t.data.cards})}).catch(function(e){return console.log("error",e)})}},{key:"render",value:function(){return r.a.createElement(k.Provider,{value:this.state},this.props.children,r.a.createElement(S,null))}}]),t}(n.Component),x=k.Consumer,A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={cardName:"",card_list:[]},a.findCard=function(e,t){t.preventDefault(),console.log("e is ",t),e({type:"SEARCH_CARDS",payload:[]}),y.a.get("".concat("","https://api.magicthegathering.io/v1/cards?contains=originalType&orderBy=name&").concat("types=creature","&name=").concat(a.state.cardName)).then(function(t){e({type:"SEARCH_CARDS",payload:t.data.cards,currSearchType:a.state.cardName})}).catch(function(e){return console.log("error",e)})},a.onChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x,null,function(t){var a=t.dispatch;return r.a.createElement("form",{onSubmit:e.findCard.bind(e,a),className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{type:"text",className:"form-control mr-sm-2",placeholder:"Character Search",name:"cardName",onChange:e.onChange,value:e.state.cardName}),r.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0",type:"submit"},"Search"))})}}]),t}(n.Component),R=function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark mb-5"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:g.a,alt:"Magic: The Gathering"})),r.a.createElement("span",{className:"navbar-brand mb-0 h1 mx-auto"},"Creature Character Listings"),r.a.createElement(A,null))},z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(x,null,function(e){var t=e.card_list,a=e.heading;return void 0===t||0===t.length?r.a.createElement(O,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-center text-white mb-4"},a),r.a.createElement("div",{className:"row"},t.map(function(e){return r.a.createElement(j,{key:e.id,card:e})})))})}}]),t}(n.Component),P=a(56),L=a.n(P),B=a(25),I=a.n(B),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sortType:""},a.sortBy=function(e,t){t.preventDefault(),e({type:"SORT_CARDS",payload:[]}),y.a.get("".concat("","https://api.magicthegathering.io/v1/cards?contains=originalType&").concat("types=creature","&pageSize=20&orderBy=").concat(a.state.sortType)).then(function(t){e({type:"SORT_CARDS",payload:t.data.cards,currSortType:a.state.sortType})}).catch(function(e){return console.log("error",e)})},a.onChange=function(e){a.setState({sortType:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x,null,function(t){var a=t.dispatch;return r.a.createElement("form",{onSubmit:e.sortBy.bind(e,a),className:"form-inline my-2 my-lg-0"},r.a.createElement(L.a,{id:"dropdown-item-button",title:"Sort By",variant:"secondary",name:"sortType",onSelect:e.onChange},r.a.createElement(I.a.Item,{as:"button",eventKey:"name"},"Name"),r.a.createElement(I.a.Item,{as:"button",eventKey:"type"},"Type"),r.a.createElement(I.a.Item,{as:"button",eventKey:"artist"},"Artist"),r.a.createElement(I.a.Item,{as:"button",eventKey:"setName"},"Set Name")))})}}]),t}(n.Component),U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null),r.a.createElement(z,null))},M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={card:{}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("".concat("","https://api.magicthegathering.io/v1/cards/").concat(this.props.match.params.id)).then(function(t){e.setState({card:t.data.card})}).catch(function(e){return console.log("error",e)})}},{key:"render",value:function(){var e=this.state.card;return void 0===e||0===Object.keys(e).length?r.a.createElement(O,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/",className:"btn btn-dark btn-sm mb-4 mt-0"},r.a.createElement("i",{className:"fas fa-chevron-left"})," Back"),r.a.createElement("div",{className:"row justify-content-center mb-3"},r.a.createElement("div",{className:"detail card shadow-sm mb-2"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,r.a.createElement("img",{src:e.imageUrl?e.imageUrl:N.a,alt:e.name})))),r.a.createElement("div",{className:"detail card-info float-left"},r.a.createElement("ul",{className:"text-white"},r.a.createElement("li",null,"Name: ",r.a.createElement("span",{className:"font-weight-bold"},e.name)),r.a.createElement("li",null,"Artist: ",r.a.createElement("span",{className:"font-weight-bold"},e.artist)),r.a.createElement("li",null,"Set Name: ",r.a.createElement("span",{className:"font-weight-bold"},e.setName)),r.a.createElement("li",null,"Type: ",r.a.createElement("span",{className:"font-weight-bold"},e.type)),r.a.createElement("li",null,"Original Type: ",r.a.createElement("span",{className:"font-weight-bold"},e.originalType)),r.a.createElement("li",null,"Power: ",r.a.createElement("span",{className:"font-weight-bold"},e.power)),r.a.createElement("li",null,"Toughness: ",r.a.createElement("span",{className:"font-weight-bold"},e.toughness)),r.a.createElement("li",null,"Flavor: ",r.a.createElement("span",{className:"font-weight-bold"},e.flavor)),r.a.createElement("li",null,"Rarity: ",r.a.createElement("span",{className:"font-weight-bold"},e.rarity))))))}}]),t}(n.Component),K=(a(111),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(D,null,r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{className:"container-fluid justify-content-center"},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",component:U}),r.a.createElement(p.a,{path:"/details/card/:id",component:M}))))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},27:function(e,t,a){e.exports=a.p+"static/media/default_card.5329c291.jpg"},54:function(e,t,a){e.exports=a.p+"static/media/mtg_logo.9c928612.png"},55:function(e,t,a){e.exports=a.p+"static/media/fingers.748b5b62.gif"},60:function(e,t,a){e.exports=a(112)}},[[60,1,2]]]);
//# sourceMappingURL=main.0f2be5e4.chunk.js.map